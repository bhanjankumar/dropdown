{"ast":null,"code":"import _slicedToArray from \"/Users/apple/Downloads/code/dropdown/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/apple/Downloads/code/dropdown/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport Dropdown from \"./components/Dropdown\";\nimport axios from 'axios';\nexport default function App() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        rdata = _useState4[0],\n        setrData = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        search = _useState6[0],\n        Setsearch = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        update = _useState8[0],\n        setUpdate = _useState8[1];\n\n  const _useState9 = useState(true),\n        _useState10 = _slicedToArray(_useState9, 2),\n        more = _useState10[0],\n        setMore = _useState10[1];\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/country\").then(response => {\n      if (update) {\n        setMore(false);\n      }\n\n      let filtData = update ? response.data : response.data.filter((d, i) => i < 5);\n      setData(filtData);\n      setrData(filtData);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [update]);\n\n  function handleChange(e) {\n    let curval = e.target.value;\n    Setsearch(e.target.value);\n    axios.get(\"http://localhost:5000/country\").then(response => {\n      let dataSearch = response.data.filter((d, i) => d.name.indexOf(curval) !== -1);\n      curval ? setData(dataSearch) : setData(rdata);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function loadData() {\n    setUpdate(true);\n    setMore(false);\n  }\n\n  function addCountry() {\n    let addArrayData = {\n      name: search\n    };\n    axios.post(\"http://localhost:5000/country\", addArrayData).then(response => {\n      setUpdate(true);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    data: data,\n    handleChange: handleChange,\n    loadAll: loadData,\n    more: more,\n    search: search,\n    addCountry: addCountry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/apple/Downloads/code/dropdown/src/App.js"],"names":["React","useEffect","useState","Dropdown","axios","App","data","setData","rdata","setrData","search","Setsearch","update","setUpdate","more","setMore","get","then","response","filtData","filter","d","i","catch","error","console","log","handleChange","e","curval","target","value","dataSearch","name","indexOf","loadData","addCountry","addArrayData","post"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport Dropdown from \"./components/Dropdown\";\nimport axios from 'axios';\nexport default function App() {\n  const [data, setData] = useState([]);\n  const [rdata, setrData] = useState([]);\n  const [search, Setsearch] = useState(\"\");\n  const [update,setUpdate] = useState(false);\n  const [more,setMore] = useState(true);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/country\")\n    .then(response=>{\n      if(update){\n        setMore(false);\n      }\n      let filtData = update ? response.data:response.data.filter((d, i) => i < 5);\n      setData(filtData);\n      setrData(filtData);\n    })\n    .catch(error=>{\n      console.log(error)\n    })\n  }, [update]);\n\n  function handleChange(e) {\n    let curval = e.target.value;\n    Setsearch(e.target.value);\n    axios.get(\"http://localhost:5000/country\")\n    .then(response=>{\n      let dataSearch = response.data.filter((d, i) => d.name.indexOf(curval) !== -1);\n      curval ? setData(dataSearch) : setData(rdata);\n    })\n    .catch(error=>{\n      console.log(error)\n    })\n    \n  }\n  function loadData() {\n    setUpdate(true);\n    setMore(false);\n  }\n\n  function addCountry(){\n    let addArrayData = {\n      name:search\n    };\n    axios.post(\"http://localhost:5000/country\",addArrayData)\n    .then(response=>{\n      setUpdate(true)\n    })\n    .catch(error=>{\n      console.log(error)\n    })\n  }\n  return (\n    <div className=\"App\">\n      <Dropdown data={data} handleChange={handleChange} loadAll={loadData} more={more} search={search} addCountry={addCountry} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}